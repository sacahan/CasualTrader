# 用戶指南

**版本**: 1.0
**最後更新**: 2025-10-21
**目標用戶**: 交易系統操作員、投資經理

## 目錄

1. [概述](#概述)
2. [快速開始](#快速開始)
3. [界面介紹](#界面介紹)
4. [操作指南](#操作指南)
5. [常見問題](#常見問題)
6. [故障排查](#故障排查)

---

## 概述

CasualTrader 是一個 AI 驅動的交易輔助系統，幫助投資者進行更智能的交易決策。

### 核心特性

✅ **手動模式控制** - 用戶可以選擇執行哪個模式
✅ **三種執行模式** - 觀察、交易、再平衡
✅ **實時監控** - 查看代理執行狀態
✅ **安全的並發控制** - 防止重複執行
✅ **完整的會話記錄** - 追蹤所有操作歷史

### 新手上路

- 第一次使用？👉 [快速開始](#快速開始)
- 需要幫助？👉 [常見問題](#常見問題)
- 遇到問題？👉 [故障排查](#故障排查)

---

## 快速開始

### 1. 訪問應用

打開瀏覽器，訪問：
```
http://localhost:5173
```

### 2. 查看可用代理

主頁會顯示所有已配置的交易代理。每個代理卡片上會顯示：
- 代理名稱
- 當前狀態（就緒/執行中/已停止）
- 最後運行時間

### 3. 選擇執行模式

在代理卡片上，您會看到 **4 個按鈕**：
- **[觀察]** - 分析市場，不執行交易
- **[交易]** - 執行交易決策
- **[再平衡]** - 調整投資組合比例
- **[停止]** - 中止當前執行

### 4. 執行模式

點擊任意模式按鈕開始執行：

```
1. 點擊 [觀察]
   ↓
2. 系統開始分析市場
   ↓
3. 等待執行完成（通常 1-5 秒）
   ↓
4. 查看結果和建議
```

### 5. 連續操作

執行完一個模式後，可以立即執行其他模式：

```
觀察 → 交易 → 再平衡 → 觀察 ...
```

---

## 界面介紹

### 主界面

```
┌─────────────────────────────────────────────────┐
│ CasualTrader - AI 交易輔助系統                  │
├─────────────────────────────────────────────────┤
│                                                 │
│ ┌─────────────────────────────────────────┐   │
│ │ Agent: TradingBot-001                   │   │
│ │ 狀態: 就緒                              │   │
│ │ 最後運行: 2025-10-21 15:18              │   │
│ │                                         │   │
│ │ [觀察] [交易] [再平衡] [停止]          │   │
│ └─────────────────────────────────────────┘   │
│                                                 │
│ ┌─────────────────────────────────────────┐   │
│ │ Agent: TradingBot-002                   │   │
│ │ 狀態: 就緒                              │   │
│ │ 最後運行: 2025-10-21 14:32              │   │
│ │                                         │   │
│ │ [觀察] [交易] [再平衡] [停止]          │   │
│ └─────────────────────────────────────────┘   │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 按鈕說明

#### 觀察按鈕 [觀察]
- **顏色**: 藍色
- **功能**: 分析市場趨勢和數據
- **結果**: 返回市場觀察報告
- **執行時間**: ~1-2 秒

#### 交易按鈕 [交易]
- **顏色**: 綠色
- **功能**: 執行交易決策
- **結果**: 返回交易執行詳情
- **執行時間**: ~2-5 秒
- **風險**: 會影響實際投資組合

#### 再平衡按鈕 [再平衡]
- **顏色**: 橙色
- **功能**: 調整投資組合比例
- **結果**: 返回調整方案
- **執行時間**: ~1-3 秒

#### 停止按鈕 [停止]
- **顏色**: 紅色
- **功能**: 中止當前執行
- **使用**: 僅在代理執行中時可用
- **效果**: 立即停止並清理資源

### 按鈕狀態

| 狀態 | 表現 | 含義 |
|------|------|------|
| 可用 | 常規 | 可以點擊執行 |
| 禁用 | 灰色 | 代理正在執行中，無法重複執行 |
| 加載 | 旋轉 | 正在執行中 |
| 完成 | 高亮 | 剛完成執行 |

---

## 操作指南

### 場景 1: 日常市場觀察

**目標**: 每日分析市場，不執行交易

```
步驟:
1. 打開應用
2. 為每個代理點擊 [觀察]
3. 等待執行完成
4. 查看分析報告
5. 記錄重要發現

時間: ~5 分鐘（3 個代理）
```

### 場景 2: 執行完整的投資決策

**目標**: 觀察 → 交易 → 再平衡

```
步驟:
1. 點擊 [觀察] → 等待完成
2. 點擊 [交易] → 等待完成
3. 點擊 [再平衡] → 等待完成
4. 審查所有操作結果

時間: ~8-12 分鐘
效果: 完整的交易決策周期
```

### 場景 3: 快速應對市場異常

**目標**: 立即停止正在執行的代理

```
步驟:
1. 發現市場異常
2. 找到正在執行的代理
3. 點擊 [停止]
4. 驗證代理已停止
5. 評估影響

時間: <1 秒
效果: 立即中止任何風險操作
```

---

## 常見問題

### Q1: 我可以同時執行多個模式嗎？

**A**: 不可以。系統會自動防止重複執行。如果您點擊一個代理的執行按鈕，該代理的所有按鈕都會被禁用，直到執行完成。

### Q2: 執行完成需要多長時間？

**A**:
- **觀察**: 1-2 秒
- **交易**: 2-5 秒
- **再平衡**: 1-3 秒

實際時間取決於市場數據量和系統負載。

### Q3: 如果執行中斷了怎麼辦？

**A**: 系統會自動清理資源。您可以查看執行記錄，然後重新執行。

### Q4: 能否撤銷已執行的交易？

**A**: 交易一旦執行，無法通過本系統撤銷。需要在交易平台上手動撤銷。

### Q5: 多個代理可以同時執行嗎？

**A**: 是的。您可以為不同的代理同時點擊執行按鈕，但每個代理內部不能並發執行。

### Q6: 執行結果存儲多久？

**A**: 所有會話記錄永久存儲在數據庫中，可供追蹤和分析。

### Q7: 出現錯誤後怎麼辦？

**A**:
1. 記錄錯誤信息
2. 檢查網絡連接
3. 刷新頁面
4. 如問題持續，聯繫技術支持

### Q8: 是否可以自定義執行參數？

**A**: 目前使用默認參數。未來版本將支持自定義最大輪數和其他參數。

---

## 故障排查

### 問題 1: 頁面加載失敗

**症狀**: 打開應用時出現空白頁面

**解決方案**:
```
1. 清除瀏覽器緩存 (Ctrl+Shift+Delete)
2. 刷新頁面 (Ctrl+F5)
3. 檢查網絡連接
4. 確保後端服務正在運行
```

### 問題 2: 按鈕點擊無反應

**症狀**: 點擊執行按鈕但沒有任何反應

**解決方案**:
```
1. 檢查代理狀態（應為"就緒"）
2. 檢查網絡連接
3. 打開瀏覽器開發者工具查看錯誤
4. 嘗試刷新頁面
```

### 問題 3: 執行一直在加載

**症狀**: 點擊按鈕後一直顯示加載狀態

**解決方案**:
```
1. 等待 30 秒（系統可能在處理）
2. 檢查後端日誌
3. 嘗試點擊 [停止]
4. 刷新頁面後重試
```

### 問題 4: 收到 409 Conflict 錯誤

**症狀**: 無法執行，顯示 "Agent already running"

**解決方案**:
```
1. 等待當前執行完成
2. 檢查是否有其他用戶在使用該代理
3. 如果卡住，聯繫技術支持強制重置
```

### 問題 5: 執行失敗並出現 500 錯誤

**症狀**: 執行中出現 "Internal Server Error"

**解決方案**:
```
1. 查看後端日誌了解詳細錯誤
2. 檢查市場數據是否可用
3. 等待 5 分鐘後重試
4. 如果持續失敗，聯繫技術支持
```

### 問題 6: 代理列表為空

**症狀**: 主頁沒有顯示任何代理

**解決方案**:
```
1. 刷新頁面
2. 確保代理已在系統中配置
3. 檢查用戶權限
4. 查看後端日誌
```

---

## 最佳實踐

### ✅ 建議做法

1. **定期觀察** - 每天至少執行一次觀察模式了解市場
2. **審慎交易** - 交易前充分分析，避免盲目執行
3. **記錄操作** - 保存執行結果用於後續分析
4. **備份計劃** - 執行再平衡前備份當前投資組合
5. **監控系統** - 定期檢查系統健康狀態

### ❌ 避免做法

1. ❌ 頻繁快速點擊（可能導致網絡請求堆積）
2. ❌ 忽視錯誤信息（應該理解並解決）
3. ❌ 同時多個標籤頁操作同一代理
4. ❌ 在市場劇烈波動時執行複雜操作
5. ❌ 忘記定期審查執行結果

---

## 技術支持

### 聯繫方式

- **Email**: support@casualtrader.com
- **Slack**: #casualtrader-support
- **Jira**: 創建 issue
- **Office Hours**: 周一-周五 9:00-17:00

### 提交 Bug 報告

提供以下信息以加快解決:

```
1. 錯誤描述
2. 重現步驟
3. 瀏覽器和版本
4. 後端日誌片段
5. 屏幕截圖
```

---

## 附錄

### 附錄 A: 快捷鍵

| 快捷鍵 | 功能 | 備註 |
|--------|------|------|
| Ctrl+F5 | 硬刷新 | 清除緩存後重新加載 |
| F12 | 開發者工具 | 調試和查看日誌 |
| Ctrl+Shift+C | 元素檢查 | 檢查 UI 元素 |

### 附錄 B: 執行時間參考

| 模式 | 最小時間 | 平均時間 | 最大時間 | 影響因素 |
|------|----------|----------|----------|---------|
| 觀察 | 0.5s | 1-2s | 5s | 市場數據量 |
| 交易 | 1s | 2-5s | 10s | 交易複雜度 |
| 再平衡 | 0.5s | 1-3s | 8s | 投資組合規模 |

### 附錄 C: 數據安全

- ✅ 所有操作都有完整記錄
- ✅ 執行結果加密存儲
- ✅ 訪問通過日誌審計
- ✅ 定期數據備份

---

## 更新日誌

### v1.0 (2025-10-21)
- ✅ 首次發佈
- ✅ 4 個執行按鈕
- ✅ 完整的用戶指南

---

**最後更新**: 2025-10-21
**下一個版本**: 計劃中
