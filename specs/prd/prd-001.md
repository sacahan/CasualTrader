---
id: prd-001
status: draft
created: 2025-09-30T08:07:53.355Z
updated: 2025-09-30T08:07:53.355Z
---

# 專案背景

CasualTrader 即時股價 MCP Server 是一個基於 Model Context Protocol 的伺服器，旨在提供台灣股市即時股價資訊查詢服務。該系統將整合台灣證券交易所 (TWSE) 公開 API，為客戶端應用程式提供標準化的股票資訊查詢介面。

本專案解決了需要即時股價資訊的金融應用程式與台灣證交所 API 之間的整合問題，透過 MCP 協議提供統一、標準化的股票資料存取方式。

## 需求摘要

### 功能需求

- **股票代號查詢**：支援輸入台灣股票代號 (如 2330) 取得即時股價資訊
- **即時價格資訊**：提供當前成交價、開高低價、昨日收盤價等核心價格資訊
- **交易量資訊**：提供當日累積成交量、當前盤中成交量等交易統計
- **買賣盤資訊**：提供五檔買賣價格與對應成交量資訊
- **漲跌停價格**：提供當日漲停價與跌停價資訊
- **公司資訊**：提供股票對應的公司簡稱與全名
- **時間戳記**：提供資料更新時間與最近成交時刻資訊
- **錯誤處理**：處理無效股票代號、API 連線失敗等異常狀況

### 技術需求

- **MCP 協議相容性**：完全遵循 Model Context Protocol 規範
- **RESTful API 整合**：整合台灣證交所即時股價 API
- **JSON 資料處理**：解析並轉換證交所 API 回傳的 JSON 格式資料
- **非同步處理**：支援非同步 API 呼叫以避免阻塞
- **資料快取機制**：實作適當的快取策略以減少 API 呼叫頻率
- **連線管理**：處理網路連線超時、重試機制等
- **資料驗證**：驗證輸入的股票代號格式與有效性

## 成功標準

- [ ] 能夠成功查詢台灣上市股票 (如台積電 2330) 的即時價格資訊
- [ ] API 回應時間在正常網路環境下小於 2 秒
- [ ] 正確解析並回傳所有必要的股價欄位資訊
- [ ] 處理無效股票代號時能回傳適當的錯誤訊息
- [ ] MCP 客戶端能夠正常呼叫股價查詢工具
- [ ] 系統能夠處理並發查詢請求而不發生衝突
- [ ] 提供清晰的工具描述與參數說明給 MCP 客戶端
- [ ] 支援至少 95% 的台灣上市櫃股票代號查詢

## 利害關係人

- **目標使用者**：需要整合即時股價資訊的開發者、金融分析師、投資人
- **開發團隊**：負責 MCP Server 開發、測試與維護的技術團隊  
- **產品負責人**：負責功能規劃、優先順序設定與專案管理

## 技術考量

- **程式語言**：建議使用 TypeScript/Node.js 以便快速開發與維護
- **架構模式**：採用模組化設計，將 API 整合、資料處理、MCP 介面分層
- **效能要求**：支援每秒至少 10 次併發查詢請求
- **可靠性**：系統可用性需達到 99% 以上
- **擴展性**：架構設計需考慮未來擴展其他股市資料來源的可能性
- **安全性**：保護 API 金鑰、實作適當的請求頻率限制
- **測試策略**：包含單元測試、整合測試與端到端測試
