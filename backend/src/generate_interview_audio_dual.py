from openai import OpenAI
import os
from dotenv import load_dotenv

load_dotenv()

# ====== è¨­å®šå€ ======
# Note: Set OPENAI_API_KEY environment variable before running this script
# Example: export OPENAI_API_KEY="sk-..."

if not os.getenv("OPENAI_API_KEY"):
    raise ValueError(
        "OPENAI_API_KEY environment variable is not set. Please set it before running this script."
    )

client = OpenAI()

# ====== Short Versionï¼ˆä¸­è‹±å°ç…§ï¼‰ ======
short_text = """
Hi, Iâ€™m Brian Han...
å—¨ï¼Œæˆ‘æ˜¯ Brian Hanã€‚...

Iâ€™m a senior software engineer with around 18 years of experience....
æˆ‘æ˜¯ä¸€åæ“æœ‰å¤§ç´„18å¹´ç¶“é©—çš„è³‡æ·±è»Ÿé«”å·¥ç¨‹å¸«ã€‚...

Most of my work has been with Java and Python...
æˆ‘çš„ä¸»è¦å·¥ä½œèªè¨€æ˜¯ Java å’Œ Pythonã€‚...

Building large-scale systems using Spring Boot and Spring Cloud. ...
æˆ‘å¸¸ä½¿ç”¨ Spring Boot å’Œ Spring Cloud å»ºæ§‹å¤§å‹ç³»çµ±ã€‚...

I really enjoy solving complex problems...
æˆ‘éå¸¸äº«å—è§£æ±ºè¤‡é›œå•é¡Œçš„éç¨‹ã€‚...

For example, I once built a socket-based auto-reconnect system to fix unstable SMS connections. ...
èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘æ›¾è¨­è¨ˆä¸€å¥—åŸºæ–¼ Socket çš„è‡ªå‹•é‡é€£æ©Ÿåˆ¶ï¼Œç”¨ä¾†ä¿®æ­£ä¸ç©©å®šçš„ç°¡è¨Šé€£ç·šã€‚...

In another project, I redesigned a payment system using distributed locks to handle high concurrency. ...
åœ¨å¦ä¸€å€‹å°ˆæ¡ˆä¸­ï¼Œæˆ‘åˆ©ç”¨åˆ†æ•£å¼é–é‡æ–°è¨­è¨ˆæ”¯ä»˜ç³»çµ±ï¼ŒæˆåŠŸè™•ç†é«˜ä½µç™¼å•é¡Œã€‚...

Iâ€™m a strong team player...
æˆ‘éå¸¸é‡è¦–åœ˜éšŠåˆä½œã€‚...

And I often help connect business goals with technical solutions. ...
æˆ‘å¸¸å”åŠ©æŠŠæ¥­å‹™ç›®æ¨™è½‰åŒ–ç‚ºæŠ€è¡“è§£æ³•ã€‚...

Iâ€™m also passionate about AI applications...
æˆ‘ä¹Ÿå°äººå·¥æ™ºæ…§æ‡‰ç”¨éå¸¸ç†±è¡·ã€‚...

And love exploring new technologies. ...
ä¸¦ç†±æ„›æ¢ç´¢æ–°æŠ€è¡“ã€‚...

Iâ€™d describe myself as someone whoâ€™s curious, hands-on, and always ready to tackle tough challenges. ...
æˆ‘æœƒå½¢å®¹è‡ªå·±æ˜¯ä¸€å€‹å¥½å¥‡ã€å¯¦ä½œå°å‘ã€ä¸”æ¨‚æ–¼æŒ‘æˆ°å›°é›£çš„äººã€‚...
"""

# ====== Full Versionï¼ˆä¸­è‹±å°ç…§ï¼‰ ======
full_text = """
Hi, my name is Brian Han...
å—¨ï¼Œæˆ‘å« Brian Hanã€‚...

Iâ€™ve been working as a software engineer for about 18 years. ...
æˆ‘å·²ç¶“æ“”ä»»è»Ÿé«”å·¥ç¨‹å¸«å¤§ç´„18å¹´ã€‚...

Over the years, Iâ€™ve focused mainly on Java, Python, and distributed systems...
é€™äº›å¹´ä¾†ï¼Œæˆ‘ä¸»è¦å°ˆæ³¨åœ¨ Javaã€Python ä»¥åŠåˆ†æ•£å¼ç³»çµ±ä¸Šã€‚...

Building backend platforms with Spring Boot, Spring Cloud, and cloud services like AWS and GCP. ...
æˆ‘ä½¿ç”¨ Spring Bootã€Spring Cloudï¼Œä»¥åŠ AWS å’Œ GCP ç­‰é›²ç«¯æœå‹™å»ºæ§‹å¾Œç«¯å¹³å°ã€‚...

One project Iâ€™m proud of was when we had to integrate with an unreliable SMS gateway. ...
æˆ‘å°è±¡æ·±åˆ»çš„ä¸€å€‹å°ˆæ¡ˆï¼Œæ˜¯è¦æ•´åˆä¸€å€‹ä¸ç©©å®šçš„ç°¡è¨Šé–˜é“æœå‹™ã€‚...

Their API kept dropping connections...
å®ƒçš„ API é€£ç·šå¸¸å¸¸ä¸­æ–·ã€‚...

So I created a Java NIO-based reconnection system that automatically detected failures and reconnected. ...
å› æ­¤æˆ‘é–‹ç™¼äº†ä¸€å¥—åŸºæ–¼ Java NIO çš„è‡ªå‹•é‡é€£ç³»çµ±ï¼Œå¯ä»¥è‡ªå‹•åµæ¸¬å¤±æ•—ä¸¦é‡æ–°é€£ç·šã€‚...

It drastically reduced message failures and stabilized the service. ...
é€™å¤§å¹…é™ä½äº†ç°¡è¨Šå¤±æ•—ç‡ï¼Œè®“ç³»çµ±ç©©å®šè¨±å¤šã€‚...

In another case, our payment system faced duplicate transactions during peak hours. ...
åœ¨å¦ä¸€å€‹æ¡ˆä¾‹ä¸­ï¼Œæˆ‘å€‘çš„æ”¯ä»˜ç³»çµ±åœ¨é«˜å³°æ™‚æ®µæœƒå‡ºç¾é‡è¤‡äº¤æ˜“å•é¡Œã€‚...

I analyzed the issue and redesigned the process with distributed locks...
æˆ‘åˆ†æå•é¡Œå¾Œï¼Œåˆ©ç”¨åˆ†æ•£å¼é–é‡æ–°è¨­è¨ˆäº¤æ˜“æµç¨‹ã€‚...

Which completely solved the problem and improved reliability. ...
é€™å®Œå…¨è§£æ±ºäº†å•é¡Œï¼Œä¹Ÿæå‡äº†ç³»çµ±ç©©å®šæ€§ã€‚...

Iâ€™ve also led small teams and coordinated cross-functional projects. ...
æˆ‘ä¹Ÿæ›¾é ˜å°å°å‹åœ˜éšŠä¸¦å”èª¿è·¨éƒ¨é–€å°ˆæ¡ˆã€‚...

I like to keep everyone aligned â€” breaking tasks down, tracking progress, and making sure we deliver on time. ...
æˆ‘å–œæ­¡ç¢ºä¿åœ˜éšŠæ–¹å‘ä¸€è‡´ï¼Œå°‡ä»»å‹™æ‹†è§£ã€è¿½è¹¤é€²åº¦ï¼Œä¸¦ç¢ºä¿æº–æ™‚äº¤ä»˜ã€‚...

My strength is balancing technical depth with clear communication...
æˆ‘çš„å¼·é …æ˜¯çµåˆæŠ€è¡“æ·±åº¦èˆ‡æ¸…æ™°çš„æºé€šèƒ½åŠ›ã€‚...

So the whole team moves in the same direction. ...
è®“æ•´å€‹åœ˜éšŠèƒ½æœåŒä¸€æ–¹å‘å‰é€²ã€‚...

Outside of work, Iâ€™m really into AI and agentic workflows...
åœ¨å·¥ä½œä¹‹å¤–ï¼Œæˆ‘å°äººå·¥æ™ºæ…§èˆ‡æ™ºèƒ½ä»£ç†æµç¨‹å¾ˆæ„Ÿèˆˆè¶£ã€‚...

I like experimenting with how automation can make engineers more productive. ...
æˆ‘å–œæ­¡å˜—è©¦å¦‚ä½•é€éè‡ªå‹•åŒ–è®“å·¥ç¨‹å¸«æ›´æœ‰æ•ˆç‡ã€‚...

And when Iâ€™m not coding, I enjoy diving and riding motorcycles...
ä¸å¯«ç¨‹å¼çš„æ™‚å€™ï¼Œæˆ‘å–œæ­¡æ½›æ°´èˆ‡é¨é‡æ©Ÿã€‚...

I guess I like challenges both in and out of work. ...
æˆ‘æƒ³æˆ‘å–œæ­¡åœ¨å·¥ä½œèˆ‡ç”Ÿæ´»ä¸­éƒ½é¢å°æŒ‘æˆ°ã€‚...

To sum up, Iâ€™d say Iâ€™m an experienced engineer who loves solving hard problems...
ç¸½çµä¾†èªªï¼Œæˆ‘æ˜¯ä¸€ä½ç†±æ„›è§£æ±ºé›£é¡Œçš„è³‡æ·±å·¥ç¨‹å¸«ã€‚...

Building reliable systems and helping teams work better together. ...
æˆ‘å–œæ­¡æ‰“é€ ç©©å®šçš„ç³»çµ±ï¼Œä¹Ÿå–œæ­¡è®“åœ˜éšŠæ›´æœ‰å‡èšåŠ›åœ°ä¸€èµ·æˆé•·ã€‚...
"""


# ====== ç”ŸæˆéŸ³æª”å‡½å¼ ======
def generate_tts(text, filename):
    print(f"ğŸ™ï¸ Generating {filename} ...")
    response = client.audio.speech.create(
        model="gpt-4o-mini-tts",
        voice="alloy",  # ç”·æ€§ç¾å¼è²ç·š
        input=text,
    )
    response.stream_to_file(filename)
    print(f"âœ… Done: {filename}")


# ====== åŸ·è¡Œ ======
generate_tts(short_text, "short_version_dual.mp3")
generate_tts(full_text, "full_version_dual.mp3")
