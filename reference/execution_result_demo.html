<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agent åŸ·è¡Œçµæœå±•ç¤º Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: "Inter", "Noto Sans TC", sans-serif;
      background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
      color: #d1d5db;
    }

    .card-base {
      background: rgba(31, 41, 55, 0.8);
      border: 1px solid rgba(75, 85, 99, 0.3);
      border-radius: 1rem;
      padding: 1.5rem;
      backdrop-filter: blur(10px);
    }

    .result-summary {
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%);
      border-left: 4px solid #22c55e;
      border-radius: 0.75rem;
    }

    .result-summary.failed {
      background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
      border-left-color: #ef4444;
    }

    .result-summary.partial {
      background: linear-gradient(135deg, rgba(234, 179, 8, 0.1) 0%, rgba(234, 179, 8, 0.05) 100%);
      border-left-color: #eab308;
    }

    .trade-item {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(75, 85, 99, 0.2);
      border-radius: 0.5rem;
      padding: 0.75rem;
      transition: all 0.3s ease;
    }

    .trade-item:hover {
      border-color: rgba(75, 85, 99, 0.5);
      background: rgba(30, 41, 59, 0.95);
    }

    .trade-action-buy {
      background: rgba(34, 197, 94, 0.2);
      color: #4ade80;
    }

    .trade-action-sell {
      background: rgba(239, 68, 68, 0.2);
      color: #f87171;
    }

    .value-positive {
      color: #4ade80;
    }

    .value-negative {
      color: #f87171;
    }

    .rebalance-item {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(75, 85, 99, 0.2);
      border-radius: 0.5rem;
      padding: 0.75rem;
    }

    .progress-bar {
      background: rgba(75, 85, 99, 0.3);
      border-radius: 0.25rem;
      height: 0.5rem;
      overflow: hidden;
    }

    .progress-fill {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      height: 100%;
      transition: width 0.5s ease;
    }

    .stat-card {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(75, 85, 99, 0.2);
      border-radius: 0.5rem;
      padding: 1rem;
      text-align: center;
    }

    .animation-fade-in {
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animation-slide-in {
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        max-height: 0;
        opacity: 0;
      }

      to {
        max-height: 1000px;
        opacity: 1;
      }
    }

    .status-badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .status-badge-success {
      background: rgba(34, 197, 94, 0.2);
      color: #4ade80;
    }

    .status-badge-failed {
      background: rgba(239, 68, 68, 0.2);
      color: #f87171;
    }

    .status-badge-partial {
      background: rgba(234, 179, 8, 0.2);
      color: #facc15;
    }
  </style>
</head>

<body class="p-4 sm:p-6 lg:p-8">
  <div class="max-w-6xl mx-auto">
    <!-- æ¨™é¡Œ -->
    <header class="mb-8">
      <h1 class="text-3xl sm:text-4xl font-bold text-white mb-2">Agent åŸ·è¡Œçµæœå±•ç¤º</h1>
      <p class="text-gray-400">å±•ç¤ºå¦‚ä½•åœ¨ AgentCard ä¸­å‘ˆç¾ WebSocket æ¨é€çš„åŸ·è¡Œçµæœ</p>
    </header>

    <!-- å°èˆª Tab -->
    <div class="mb-8 flex gap-2 border-b border-gray-700">
      <button class="tab-btn active pb-4 px-4 text-white font-semibold border-b-2 border-green-500 cursor-pointer"
        onclick="showTab('trading')">
        ğŸ“ˆ äº¤æ˜“æ¨¡å¼çµæœ
      </button>
      <button
        class="tab-btn pb-4 px-4 text-gray-400 font-semibold border-b-2 border-transparent cursor-pointer hover:text-white transition"
        onclick="showTab('rebalancing')">
        ğŸ”„ é‡å¹³è¡¡æ¨¡å¼çµæœ
      </button>
      <button
        class="tab-btn pb-4 px-4 text-gray-400 font-semibold border-b-2 border-transparent cursor-pointer hover:text-white transition"
        onclick="showTab('failed')">
        âŒ å¤±æ•—çµæœå±•ç¤º
      </button>
    </div>

    <!-- ============== TAB 1: TRADING æ¨¡å¼ ============== -->
    <div id="tab-trading" class="tab-content">
      <!-- Agent Card å¡ç‰‡ -->
      <div class="mb-8">
        <h2 class="text-xl font-bold text-white mb-4">Agent Card - äº¤æ˜“æ¨¡å¼åŸ·è¡Œçµæœ</h2>

        <!-- Agent å¡ç‰‡ -->
        <div class="card-base mb-4 max-w-2xl">
          <!-- å¡ç‰‡é ­éƒ¨ -->
          <div class="flex items-center justify-between mb-6">
            <div>
              <h3 class="text-2xl font-bold text-green-400">ç­–ç•¥ Agent #001</h3>
              <div class="text-sm text-gray-400 mt-1">
                <span class="inline-block w-2 h-2 rounded-full bg-green-500 mr-2 animate-pulse"></span>
                åŸ·è¡Œä¸­ Â· å›å ±ç‡: 12.5%
              </div>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold">Â¥600,000</div>
              <div class="text-sm text-gray-400">ç¸½è³‡ç”¢</div>
            </div>
          </div>

          <!-- è³‡ç”¢æ¦‚è¦½ -->
          <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="stat-card">
              <div class="text-xs text-gray-400 mb-1">åˆå§‹è³‡é‡‘</div>
              <div class="text-lg font-bold text-white">Â¥500,000</div>
            </div>
            <div class="stat-card">
              <div class="text-xs text-gray-400 mb-1">ç›®å‰æç›Š</div>
              <div class="text-lg font-bold value-positive">+Â¥100,000</div>
            </div>
          </div>

          <!-- ===== åŸ·è¡Œçµæœæ‘˜è¦ï¼ˆå¸¶å‹•ç•«å±•é–‹ï¼‰===== -->
          <div class="result-summary animation-fade-in p-4 mb-4">
            <div class="flex items-start justify-between">
              <div class="flex items-start gap-3 flex-1">
                <div class="text-2xl mt-1">âœ“</div>
                <div class="flex-1">
                  <h4 class="font-semibold text-white text-lg">åŸ·è¡Œå®Œæˆ</h4>
                  <div class="text-sm text-gray-300 mt-1">TRADING æ¨¡å¼ â€¢ è€—æ™‚ 2,345ms</div>
                  <div class="text-xs text-gray-400 mt-1">Session: sess_abc123def456</div>
                </div>
              </div>
              <div class="text-right">
                <div class="text-xl font-bold value-positive">+Â¥5,000</div>
                <div class="text-sm text-gray-300">+2.50%</div>
              </div>
            </div>

            <!-- å±•é–‹æŒ‰éˆ• -->
            <button
              class="mt-4 w-full py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold text-white transition"
              onclick="toggleDetail('trading-detail')">
              æŸ¥çœ‹è©³ç´°çµæœ â–¼
            </button>
          </div>

          <!-- ===== è©³ç´°çµæœå€åŸŸï¼ˆæ‘ºç–Šï¼‰ ===== -->
          <div id="trading-detail" class="animation-slide-in max-h-0 overflow-hidden" style="display: none;">
            <div class="bg-gray-900 rounded-lg p-4 mt-4 border border-gray-700">
              <!-- äº¤æ˜“åˆ—è¡¨æ¨™é¡Œ -->
              <h5 class="font-semibold text-white mb-3">äº¤æ˜“æ˜ç´° (3 ç­†)</h5>

              <!-- äº¤æ˜“é …ç›® 1 -->
              <div class="trade-item mb-3">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="trade-action-buy px-3 py-1 rounded font-bold text-sm">
                      è²·å…¥
                    </div>
                    <div>
                      <div class="font-semibold text-white">å°ç©é›» (2330)</div>
                      <div class="text-xs text-gray-400">10 è‚¡ @ Â¥578.0</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold">Â¥5,780</div>
                    <div class="text-xs text-gray-400">10:30:15</div>
                  </div>
                </div>
              </div>

              <!-- äº¤æ˜“é …ç›® 2 -->
              <div class="trade-item mb-3">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="trade-action-sell px-3 py-1 rounded font-bold text-sm">
                      è³£å‡º
                    </div>
                    <div>
                      <div class="font-semibold text-white">è¯ç™¼ç§‘ (2454)</div>
                      <div class="text-xs text-gray-400">5 è‚¡ @ Â¥452.5</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold">Â¥2,262</div>
                    <div class="text-xs text-gray-400">10:31:42</div>
                  </div>
                </div>
              </div>

              <!-- äº¤æ˜“é …ç›® 3 -->
              <div class="trade-item mb-4">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="trade-action-buy px-3 py-1 rounded font-bold text-sm">
                      è²·å…¥
                    </div>
                    <div>
                      <div class="font-semibold text-white">MediaTek (2412)</div>
                      <div class="text-xs text-gray-400">8 è‚¡ @ Â¥123.0</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold">Â¥984</div>
                    <div class="text-xs text-gray-400">10:32:58</div>
                  </div>
                </div>
              </div>

              <!-- äº¤æ˜“çµ±è¨ˆ -->
              <div class="border-t border-gray-700 pt-4">
                <h5 class="font-semibold text-white mb-3">äº¤æ˜“çµ±è¨ˆ</h5>
                <div class="grid grid-cols-3 gap-3">
                  <div class="stat-card">
                    <div class="text-xs text-gray-400">è²·å…¥ç¸½é¡</div>
                    <div class="text-base font-bold text-white">Â¥6,764</div>
                  </div>
                  <div class="stat-card">
                    <div class="text-xs text-gray-400">è³£å‡ºç¸½é¡</div>
                    <div class="text-base font-bold text-white">Â¥2,262</div>
                  </div>
                  <div class="stat-card">
                    <div class="text-xs text-gray-400">å‡ˆæ”¯å‡º</div>
                    <div class="text-base font-bold value-negative">-Â¥4,502</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ä»£ç¢¼å±•ç¤º -->
      <div class="card-base max-w-4xl">
        <h3 class="text-lg font-bold text-white mb-4">WebSocket äº‹ä»¶æ•¸æ“šçµæ§‹</h3>
        <pre class="bg-gray-900 p-4 rounded text-sm text-green-400 overflow-x-auto"><code>{
  "type": "execution_completed",
  "agent_id": "agent_001",
  "session_id": "sess_abc123def456",
  "mode": "TRADING",
  "success": true,
  "execution_time_ms": 2345,
  "output": {
    "trades": [
      {
        "symbol": "2330",
        "action": "BUY",
        "quantity": 10,
        "price": 578.0,
        "timestamp": "2025-11-14T10:30:15Z"
      },
      {
        "symbol": "2454",
        "action": "SELL",
        "quantity": 5,
        "price": 452.5,
        "timestamp": "2025-11-14T10:31:42Z"
      },
      {
        "symbol": "2412",
        "action": "BUY",
        "quantity": 8,
        "price": 123.0,
        "timestamp": "2025-11-14T10:32:58Z"
      }
    ],
    "summary": {
      "total_value_change": 5000,
      "percentage_change": 2.5,
      "actions_count": 3
    },
    "status": "completed",
    "message": "äº¤æ˜“åŸ·è¡ŒæˆåŠŸ"
  }
}</code></pre>
      </div>
    </div>

    <!-- ============== TAB 2: REBALANCING æ¨¡å¼ ============== -->
    <div id="tab-rebalancing" class="tab-content hidden">
      <h2 class="text-xl font-bold text-white mb-4">Agent Card - é‡å¹³è¡¡æ¨¡å¼åŸ·è¡Œçµæœ</h2>

      <div class="card-base mb-4 max-w-2xl">
        <!-- å¡ç‰‡é ­éƒ¨ -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h3 class="text-2xl font-bold text-blue-400">ç­–ç•¥ Agent #002</h3>
            <div class="text-sm text-gray-400 mt-1">
              <span class="inline-block w-2 h-2 rounded-full bg-green-500 mr-2 animate-pulse"></span>
              åŸ·è¡Œä¸­ Â· ç›®æ¨™é…ç½®æ¨¡å¼
            </div>
          </div>
          <div class="text-right">
            <div class="text-2xl font-bold">Â¥1,200,000</div>
            <div class="text-sm text-gray-400">ç¸½è³‡ç”¢</div>
          </div>
        </div>

        <!-- åŸ·è¡Œçµæœæ‘˜è¦ -->
        <div class="result-summary animation-fade-in p-4 mb-4">
          <div class="flex items-start justify-between">
            <div class="flex items-start gap-3 flex-1">
              <div class="text-2xl mt-1">âœ“</div>
              <div class="flex-1">
                <h4 class="font-semibold text-white text-lg">åŸ·è¡Œå®Œæˆ</h4>
                <div class="text-sm text-gray-300 mt-1">REBALANCING æ¨¡å¼ â€¢ è€—æ™‚ 1,890ms</div>
                <div class="text-xs text-gray-400 mt-1">Session: sess_xyz789abc123</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-xl font-bold value-negative">-Â¥2,000</div>
              <div class="text-sm text-gray-300">-1.00%</div>
            </div>
          </div>

          <button
            class="mt-4 w-full py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded text-sm font-semibold text-white transition"
            onclick="toggleDetail('rebalance-detail')">
            æŸ¥çœ‹è©³ç´°çµæœ â–¼
          </button>
        </div>

        <!-- è©³ç´°çµæœ -->
        <div id="rebalance-detail" class="animation-slide-in max-h-0 overflow-hidden" style="display: none;">
          <div class="bg-gray-900 rounded-lg p-4 mt-4 border border-gray-700">
            <!-- èª¿æ•´èªªæ˜ -->
            <div class="mb-4 p-3 bg-gray-800 rounded border border-gray-700">
              <div class="text-sm text-gray-300">
                <span class="font-semibold">èª¿æ•´åŸå› :</span> ç›®æ¨™é…ç½®åé›¢è¶…é 5%ï¼Œé€²è¡Œè‡ªå‹•èª¿æ•´ä»¥æ¢å¾©ç›®æ¨™é…ç½®æ¯”ä¾‹
              </div>
            </div>

            <!-- è³‡ç”¢é‡é… -->
            <h5 class="font-semibold text-white mb-3">è³‡ç”¢é‡é…è©³æƒ…</h5>

            <!-- é‡é…é …ç›® 1 -->
            <div class="rebalance-item mb-3">
              <div class="flex items-center justify-between mb-2">
                <div>
                  <div class="font-semibold text-white">å°ç©é›» (2330)</div>
                  <div class="text-xs text-gray-400">ç›®æ¨™é…ç½®: 30%</div>
                </div>
                <div class="text-right">
                  <span class="status-badge status-badge-partial">èª¿æ•´</span>
                </div>
              </div>
              <div class="flex items-center justify-between text-sm mb-2">
                <span class="text-gray-400">é…ç½®æ¯”ä¾‹</span>
                <span class="font-semibold"><span class="text-red-400">40%</span> â†’ <span
                    class="text-green-400">35%</span></span>
              </div>
              <div class="progress-bar mb-2">
                <div class="progress-fill" style="width: 35%"></div>
              </div>
              <div class="text-xs text-gray-400">è‚¡æ•¸è®ŠåŒ–: -5 è‚¡ (Â¥2,890)</div>
            </div>

            <!-- é‡é…é …ç›® 2 -->
            <div class="rebalance-item mb-3">
              <div class="flex items-center justify-between mb-2">
                <div>
                  <div class="font-semibold text-white">è¯ç™¼ç§‘ (2454)</div>
                  <div class="text-xs text-gray-400">ç›®æ¨™é…ç½®: 35%</div>
                </div>
                <div class="text-right">
                  <span class="status-badge status-badge-success">å·²èª¿æ•´</span>
                </div>
              </div>
              <div class="flex items-center justify-between text-sm mb-2">
                <span class="text-gray-400">é…ç½®æ¯”ä¾‹</span>
                <span class="font-semibold"><span class="text-red-400">30%</span> â†’ <span
                    class="text-green-400">35%</span></span>
              </div>
              <div class="progress-bar mb-2">
                <div class="progress-fill" style="width: 35%"></div>
              </div>
              <div class="text-xs text-gray-400">è‚¡æ•¸è®ŠåŒ–: +4 è‚¡ (Â¥1,810)</div>
            </div>

            <!-- é‡é…é …ç›® 3 -->
            <div class="rebalance-item mb-4">
              <div class="flex items-center justify-between mb-2">
                <div>
                  <div class="font-semibold text-white">MediaTek (2412)</div>
                  <div class="text-xs text-gray-400">ç›®æ¨™é…ç½®: 35%</div>
                </div>
                <div class="text-right">
                  <span class="status-badge">ç„¡è®ŠåŒ–</span>
                </div>
              </div>
              <div class="flex items-center justify-between text-sm mb-2">
                <span class="text-gray-400">é…ç½®æ¯”ä¾‹</span>
                <span class="font-semibold"><span class="text-gray-400">35%</span> â†’ <span
                    class="text-gray-400">35%</span></span>
              </div>
              <div class="progress-bar mb-2">
                <div class="progress-fill" style="width: 35%"></div>
              </div>
              <div class="text-xs text-gray-400">è‚¡æ•¸è®ŠåŒ–: 0 è‚¡</div>
            </div>

            <!-- é‡é…çµ±è¨ˆ -->
            <div class="border-t border-gray-700 pt-4">
              <h5 class="font-semibold text-white mb-3">é‡é…çµ±è¨ˆ</h5>
              <div class="grid grid-cols-3 gap-3">
                <div class="stat-card">
                  <div class="text-xs text-gray-400">èª¿æ•´é …ç›®</div>
                  <div class="text-base font-bold text-white">2 é …</div>
                </div>
                <div class="stat-card">
                  <div class="text-xs text-gray-400">ç¸½æˆæœ¬</div>
                  <div class="text-base font-bold value-negative">-Â¥1,080</div>
                </div>
                <div class="stat-card">
                  <div class="text-xs text-gray-400">åŸ·è¡Œæ™‚é–“</div>
                  <div class="text-base font-bold text-white">1.89s</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- é…ç½®å°æ¯”åœ–è¡¨ -->
      <div class="card-base max-w-2xl mt-8">
        <h3 class="text-lg font-bold text-white mb-4">è³‡ç”¢é…ç½®å°æ¯”</h3>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <p class="text-sm text-gray-400 mb-3 font-semibold">èª¿æ•´å‰é…ç½®</p>
            <canvas id="chartBefore" style="max-height: 250px;"></canvas>
          </div>
          <div>
            <p class="text-sm text-gray-400 mb-3 font-semibold">èª¿æ•´å¾Œé…ç½®</p>
            <canvas id="chartAfter" style="max-height: 250px;"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- ============== TAB 3: å¤±æ•—çµæœ ============== -->
    <div id="tab-failed" class="tab-content hidden">
      <h2 class="text-xl font-bold text-white mb-4">åŸ·è¡Œå¤±æ•—çµæœå±•ç¤º</h2>

      <div class="card-base mb-4 max-w-2xl">
        <!-- å¡ç‰‡é ­éƒ¨ -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h3 class="text-2xl font-bold text-red-400">ç­–ç•¥ Agent #003</h3>
            <div class="text-sm text-gray-400 mt-1">
              <span class="inline-block w-2 h-2 rounded-full bg-red-500 mr-2"></span>
              éŒ¯èª¤ Â· ä¸Šæ¬¡å¤±æ•—
            </div>
          </div>
          <div class="text-right">
            <div class="text-2xl font-bold">Â¥800,000</div>
            <div class="text-sm text-gray-400">ç¸½è³‡ç”¢</div>
          </div>
        </div>

        <!-- å¤±æ•—çµæœæ‘˜è¦ -->
        <div class="result-summary failed animation-fade-in p-4 mb-4">
          <div class="flex items-start justify-between">
            <div class="flex items-start gap-3 flex-1">
              <div class="text-2xl mt-1">âŒ</div>
              <div class="flex-1">
                <h4 class="font-semibold text-white text-lg">åŸ·è¡Œå¤±æ•—</h4>
                <div class="text-sm text-red-300 mt-1">TRADING æ¨¡å¼ â€¢ å¸‚å ´æ•¸æ“šç²å–ç•°å¸¸</div>
                <div class="text-xs text-gray-400 mt-1">Session: sess_fail001xyz</div>
              </div>
            </div>
            <div>
              <span class="status-badge status-badge-failed">éŒ¯èª¤</span>
            </div>
          </div>

          <!-- éŒ¯èª¤è©³æƒ… -->
          <div class="mt-4 p-3 bg-red-950 rounded border border-red-800">
            <div class="font-semibold text-red-300 text-sm mb-1">éŒ¯èª¤ä¿¡æ¯</div>
            <div class="text-sm text-red-200 font-mono">
              ConnectionError: ç„¡æ³•é€£æ¥åˆ°å¸‚å ´æ•¸æ“šæœå‹™å™¨ã€‚è«‹æª¢æŸ¥ç¶²çµ¡é€£æ¥æˆ–æœå‹™ç‹€æ…‹ã€‚
            </div>
          </div>

          <!-- é‡è©¦æŒ‰éˆ• -->
          <button
            class="mt-4 w-full py-2 px-3 bg-red-700 hover:bg-red-600 rounded text-sm font-semibold text-white transition">
            ğŸ”„ é‡è©¦
          </button>
        </div>
      </div>

      <!-- éƒ¨åˆ†æˆåŠŸæ¡ˆä¾‹ -->
      <div class="card-base max-w-2xl">
        <h3 class="text-lg font-bold text-white mb-4">éƒ¨åˆ†æˆåŠŸåŸ·è¡Œ</h3>

        <div class="result-summary partial animation-fade-in p-4 mb-4">
          <div class="flex items-start justify-between">
            <div class="flex items-start gap-3 flex-1">
              <div class="text-2xl mt-1">âš ï¸</div>
              <div class="flex-1">
                <h4 class="font-semibold text-white text-lg">éƒ¨åˆ†å®Œæˆ</h4>
                <div class="text-sm text-yellow-300 mt-1">REBALANCING æ¨¡å¼ â€¢ 3/5 é …èª¿æ•´æˆåŠŸ</div>
                <div class="text-xs text-gray-400 mt-1">Session: sess_partial002</div>
              </div>
            </div>
            <div>
              <span class="status-badge status-badge-partial">éƒ¨åˆ†æˆåŠŸ</span>
            </div>
          </div>

          <!-- è­¦å‘Šè©³æƒ… -->
          <div class="mt-4 p-3 bg-yellow-950 rounded border border-yellow-800">
            <div class="font-semibold text-yellow-300 text-sm mb-2">åŸ·è¡Œæ‘˜è¦</div>
            <ul class="text-sm text-yellow-200 space-y-1">
              <li>âœ“ å°ç©é›» (2330) æˆåŠŸèª¿æ•´</li>
              <li>âœ“ è¯ç™¼ç§‘ (2454) æˆåŠŸèª¿æ•´</li>
              <li>âŒ MediaTek (2412) èª¿æ•´å¤±æ•— - æµå‹•æ€§ä¸è¶³</li>
              <li>âš ï¸ ç¾ä»£é›»å­ (2337) èª¿æ•´éƒ¨åˆ†æˆåŠŸ - æ»‘é» 2.1%</li>
              <li>â¸ï¸ æ—¥æœˆå…‰ (3711) å¾…åŸ·è¡Œ - æ’éšŠä¸­</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Tab åˆ‡æ›
    function showTab(tabName) {
      // éš±è—æ‰€æœ‰ tab
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.add('hidden');
      });
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('border-b-2', 'border-green-500', 'text-white');
        btn.classList.add('border-transparent', 'text-gray-400');
      });

      // é¡¯ç¤ºé¸ä¸­ tab
      document.getElementById(`tab-${tabName}`).classList.remove('hidden');
      event.target.classList.add('border-b-2', 'border-green-500', 'text-white');
    }

    // è©³ç´°çµæœå±•é–‹/æ‘ºç–Š
    function toggleDetail(elementId) {
      const element = document.getElementById(elementId);
      const button = event.target;

      if (element.style.display === 'none') {
        element.style.display = 'block';
        element.style.maxHeight = element.scrollHeight + 'px';
        button.textContent = 'éš±è—è©³ç´°çµæœ â–²';
      } else {
        element.style.display = 'none';
        element.style.maxHeight = '0';
        button.textContent = 'æŸ¥çœ‹è©³ç´°çµæœ â–¼';
      }
    }

    // åˆå§‹åŒ–åœ–è¡¨
    window.addEventListener('DOMContentLoaded', () => {
      // èª¿æ•´å‰é…ç½®åœ–è¡¨
      const ctxBefore = document.getElementById('chartBefore');
      if (ctxBefore) {
        new Chart(ctxBefore, {
          type: 'doughnut',
          data: {
            labels: ['å°ç©é›» (40%)', 'è¯ç™¼ç§‘ (30%)', 'MediaTek (30%)'],
            datasets: [
              {
                data: [40, 30, 30],
                backgroundColor: [
                  'rgba(239, 68, 68, 0.6)',
                  'rgba(234, 179, 8, 0.6)',
                  'rgba(34, 197, 94, 0.6)',
                ],
                borderColor: ['#ef4444', '#eab308', '#22c55e'],
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
              legend: {
                position: 'bottom',
                labels: {
                  color: '#9ca3af',
                  font: { size: 12 },
                  padding: 15,
                },
              },
            },
          },
        });
      }

      // èª¿æ•´å¾Œé…ç½®åœ–è¡¨
      const ctxAfter = document.getElementById('chartAfter');
      if (ctxAfter) {
        new Chart(ctxAfter, {
          type: 'doughnut',
          data: {
            labels: ['å°ç©é›» (35%)', 'è¯ç™¼ç§‘ (35%)', 'MediaTek (30%)'],
            datasets: [
              {
                data: [35, 35, 30],
                backgroundColor: [
                  'rgba(34, 197, 94, 0.6)',
                  'rgba(34, 197, 94, 0.6)',
                  'rgba(34, 197, 94, 0.6)',
                ],
                borderColor: ['#22c55e', '#22c55e', '#22c55e'],
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
              legend: {
                position: 'bottom',
                labels: {
                  color: '#9ca3af',
                  font: { size: 12 },
                  padding: 15,
                },
              },
            },
          },
        });
      }
    });
  </script>
</body>

</html>
